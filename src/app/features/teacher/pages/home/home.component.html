<div class="relative min-h-[calc(100vh-12rem)]">
  <div class="absolute top-0 right-0">
    <button 
      (click)="openCreateModal()"
      class="bg-blue-600 text-white px-4 lg:px-8 py-2.5 lg:py-3.5 rounded-xl font-semibold flex items-center gap-2 hover:bg-blue-700 transition shadow-lg text-sm lg:text-base"
    >
      <span class="hidden sm:inline">Crear Asignatura</span>
      <span class="sm:hidden">Crear</span>
      <i class='bx bx-plus-circle text-xl lg:text-2xl'></i>
    </button>
  </div>

  <div *ngIf="isLoading" class="flex items-center justify-center min-h-[calc(100vh-12rem)]">
    <div class="text-center">
      <i class='bx bx-loader-alt animate-spin text-4xl text-blue-600'></i>
      <p class="text-gray-600 mt-4">Cargando asignaturas...</p>
    </div>
  </div>

  <div *ngIf="!isLoading && subjects.length === 0" class="flex flex-col items-center justify-center min-h-[calc(100vh-12rem)] pt-16 px-4">
    <h2 class="text-2xl lg:text-3xl font-bold text-gray-800 mb-12 text-center">ğŸ“š Â¡ No tienes asignaturas creadas !</h2>
    
    <img src="assets/dashboard.png" alt="Sin asignaturas" class="w-full max-w-[500px] mb-8">
  </div>

  <div *ngIf="!isLoading && subjects.length > 0" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5 pt-20">
    <app-subject-card 
      *ngFor="let subject of subjects"
      [subjectId]="subject.subject_id"
      [subjectName]="subject.subject_name"
      [description]="subject.description"
      [teacherName]="subject.teacher_name"
      [imageTeacher]="subject.image_teacher"
      [gradeLevel]="subject.grade_level"
      [schoolYear]="subject.school_year"
      [isActive]="subject.is_active"
      [isEditable]="true"
      (onEdit)="editSubject($event)"
      (onDelete)="deleteSubject($event)">
    </app-subject-card>
  </div>
</div>

<app-create-subject-modal 
  *ngIf="showCreateModal"
  (close)="closeCreateModal()"
  (created)="onSubjectCreated()">
</app-create-subject-modal>